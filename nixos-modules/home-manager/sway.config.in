# vim: ft=swayconfig

font pango:JetBrains Mono 12
floating_modifier Mod4
default_border normal 2
default_floating_border normal 2
hide_edge_borders smart
focus_wrapping yes
focus_follows_mouse yes
focus_on_window_activation smart
mouse_warping output
workspace_layout stacking
workspace_auto_back_and_forth yes
bindsym Mod4+1 workspace number 1
bindsym Mod4+2 workspace number 2
bindsym Mod4+3 workspace number 3
bindsym Mod4+4 workspace number 4
bindsym Mod4+5 workspace number 5
bindsym Mod4+6 workspace number 6
bindsym Mod4+7 workspace number 7
bindsym Mod4+8 workspace number 8
bindsym Mod4+9 workspace number 9
bindsym Mod4+0 workspace number 10
bindsym Mod4+Control+l exec loginctl lock-session
bindsym Mod4+Control+space exec makoctl dismiss --all
bindsym Mod4+Down focus down
bindsym Mod4+F12 mode passthru
bindsym Mod4+Left focus left
bindsym Mod4+Print exec grimshot --notify save window
bindsym Mod4+Return exec kitty
bindsym Mod4+Right focus right
bindsym Mod4+Shift+1 move container to workspace number 1
bindsym Mod4+Shift+2 move container to workspace number 2
bindsym Mod4+Shift+3 move container to workspace number 3
bindsym Mod4+Shift+4 move container to workspace number 4
bindsym Mod4+Shift+5 move container to workspace number 5
bindsym Mod4+Shift+6 move container to workspace number 6
bindsym Mod4+Shift+7 move container to workspace number 7
bindsym Mod4+Shift+8 move container to workspace number 8
bindsym Mod4+Shift+9 move container to workspace number 9
bindsym Mod4+Shift+0 move container to workspace number 10
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+Print exec grimshot --notify save area
bindsym Mod4+Shift+Right move right
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+b bar mode toggle
bindsym Mod4+Shift+c exec wl-color-picker
bindsym Mod4+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'systemctl --user stop graphical-session.target && swaymsg exit'
bindsym Mod4+Shift+h move left
bindsym Mod4+Shift+j move down
bindsym Mod4+Shift+k move up
bindsym Mod4+Shift+l move right
bindsym Mod4+Shift+minus move scratchpad
bindsym Mod4+Shift+q kill
bindsym Mod4+Shift+r reload
bindsym Mod4+Shift+s sticky toggle
bindsym Mod4+Shift+space floating toggle
bindsym Mod4+Tab workspace back_and_forth
bindsym Mod4+Up focus up
bindsym Mod4+a focus parent
bindsym Mod4+b split h
bindsym Mod4+c exec clipman pick --tool=bemenu
bindsym Mod4+e layout toggle split
bindsym Mod4+f fullscreen toggle
bindsym Mod4+h focus left
bindsym Mod4+j focus down
bindsym Mod4+k focus up
bindsym Mod4+l focus right
bindsym Mod4+minus scratchpad show
bindsym Mod4+p exec bemenu-run
bindsym Mod4+r mode resize
bindsym Mod4+s layout stacking
bindsym Mod4+space focus mode_toggle
bindsym Mod4+v split v
bindsym Mod4+w layout tabbed
bindsym Print exec grimshot --notify save output
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5% && pactl get-sink-volume @DEFAULT_SINK@ | head -n 1| awk '{print substr($5, 1, length($5)-1)}' > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle && (pamixer --get-mute && echo 0 > $XDG_RUNTIME_DIR/wob.sock) || pamixer --get-volume > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5% && pactl get-sink-volume @DEFAULT_SINK@ | head -n 1| awk '{print substr($5, 1, length($5)-1)}' > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86MonBrightnessDown exec brightnessctl set 5%- | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $XDG_RUNTIME_DIR/wob.sock
bindsym XF86MonBrightnessUp exec brightnessctl set +5% | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $XDG_RUNTIME_DIR/wob.sock

input "type:keyboard" {
  repeat_delay 300
  repeat_rate 50
  xkb_model @xkbModel@
  xkb_options @xkbOptions@
}

input "type:pointer" {
  accel_profile flat
}

input "type:touchpad" {
  dwt enabled
  middle_emulation enabled
  natural_scroll enabled
  tap enabled
}

input "113:16461:Logitech_K400_Plus" {
  dwt enabled
  middle_emulation enabled
  natural_scroll enabled
  tap enabled
  xkb_model pc104
  xkb_options ctrl:nocaps
}

input "4617:13404:https://github.com/stapelberg_kinT_(kint41)" {
  repeat_delay 300
  repeat_rate 50
  xkb_model pc104
  xkb_options ''
}

output "*" {
  background #222222 solid_color
}

seat "*" {
  xcursor_theme Adwaita 24
}

mode "passthru" {
  bindsym Mod4+F12 mode default
}

mode "resize" {
  bindsym Escape mode default
  bindsym Mod4+r mode default
  bindsym Return mode default
  bindsym Down resize grow height 10 px
  bindsym Left resize shrink width 10 px
  bindsym Right resize grow width 10 px
  bindsym Up resize shrink height 10 px
  bindsym h resize shrink width 10 px
  bindsym j resize grow height 10 px
  bindsym k resize shrink height 10 px
  bindsym l resize grow width 10 px
}

assign [title="FreeRDP"] 6
assign [title="pipe:xwayland-mirror"] 7
bar {
  font pango:JetBrains Mono 12
  mode dock
  position top
  status_command gobar
  swaybar_command swaybar
  tray_output *
  height 30
}

for_window [title="^FreeRDP$"] floating enable
for_window [title="^[pP]icture.in.[pP]icture$"] floating enable
for_window [title="^(Zoom Cloud Meetings|zoom)$"] floating enable
for_window [title="^QEMU.*$"] floating enable
for_window [title="^pipe:xwayland-mirror$"] floating enable
for_window [app_id="^chrome-.*__.*"] shortcuts_inhibitor disable
for_window [title="Firefox â€” Sharing Indicator"] kill
exec "dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK XDG_CURRENT_DESKTOP XDG_SESSION_TYPE NIXOS_OZONE_WL; systemctl --user start graphical-session.target"
